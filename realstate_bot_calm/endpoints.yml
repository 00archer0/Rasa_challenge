# This file contains the different endpoints your bot can use.

# Server where the models are pulled from.
# https://rasa.com/docs/rasa-pro/production/model-storage#fetching-models-from-a-server

#models:
#  url: http://my-server.com/models/default_core@latest
#  wait_time_between_pulls:  10   # [optional](default: 100)

# Server which runs your custom actions.
# https://rasa.com/docs/rasa-pro/concepts/custom-actions

action_endpoint:
  actions_module: "actions"

# Tracker store which is used to store the conversations.
# By default the conversations are stored in memory.
# https://rasa.com/docs/rasa-pro/production/tracker-stores

#tracker_store:
#    type: redis
#    url: <host of the redis instance, e.g. localhost>
#    port: <port of your redis instance, usually 6379>
#    db: <number of your database within redis, e.g. 0>
#    password: <password used for authentication>
#    use_ssl: <whether or not the communication is encrypted, default false>

tracker_store:
    type: SQL
    dialect: "sqlite"  # the dialect used to interact with the db
    url: ""  # (optional) host of the sql db, e.g. "localhost"
    db: "/Users/lalit/Desktop/rasa_env/rasa.db"  # path to your db
    query: # optional dictionary to be added as a query string to the connection URL
      driver: my-driver

#tracker_store:
#    type: mongod
#    url: <url to your mongo instance, e.g. mongodb://localhost:27017>
#    db: <name of the db within your mongo instance, e.g. rasa>
#    username: <username used for authentication>
#    password: <password used for authentication>

# Event broker which all conversation events should be streamed to.
# https://rasa.com/docs/rasa-pro/production/event-brokers

#event_broker:
#  url: localhost
#  username: username
#  password: password
#  queue: queue
#
# nlg:
#  type: custom.quick_rephraser.QuickResponseRephraser
#  prompt: prompt_templates/rephrase_prompt.jinja2

nlg:
  type: custom.quick_rephraser.QuickResponseRephraser
  llm:
    model_group: mistral_llm
  embeddings:
    model_group: mistral_embeddings
  prompt: prompt_templates/rephrase_prompt.jinja2
model_groups:
  - id: mistral_llm
    models:
      - provider: gemini
        model: gemini-2.0-flash
        # api_base: https://openrouter.ai/api/v1
        api_key: ${GEMINI_API_KEY}
        # timeout: 7
        # max_tokens: 256
        # temperature: 0
        # no-cache: true
# gemma-3-27b-it
  
  - id: mistral_embeddings
    models:
      - provider: gemini
        model: text-embedding-004
        # api_key: SVRiNrfL5j86jGBhzVa16Msrstp9ptWG
        # api_base: https://api.mistral.ai/v1/chat/completions
        # timeout: 7

# nlg:
#   type: custom.quick_rephraser.QuickResponseRephraser
#   llm:
#     model_group: mistral_llm
#   embeddings:
#     model_group: mistral_embeddings
#   prompt: prompt_templates/rephrase_prompt.jinja2
# model_groups:
#   - id: mistral_llm
#     models:
#       - provider: self-hosted
#         model: google/gemma-3-27b-it:free
#         api_base: https://openrouter.ai/api/v1
#         api_key: ${OPENROUTER_API_KEY} 
#         # timeout: 7
#         # max_tokens: 256
#         # temperature: 0
#         # no-cache: true
        
        
  # - id: mistral_embeddings
  #   models:
  #     - provider: mistral
  #       model: mistral-embed
  #       # api_key: SVRiNrfL5j86jGBhzVa16Msrstp9ptWG
  #       # api_base: https://api.mistral.ai/v1/chat/completions
  #       # timeout: 7
