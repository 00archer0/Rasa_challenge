<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Chatbot Demo</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">
    <link href="filters_style.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid p-0 main-container">
        <div class="row g-0 full-height">
            <!-- Left Panel - User Selection -->
            <div class="col-md-3 col-lg-3 left-panel">
                <div class="panel-header">
                    <h3>Conversation Sessions</h3>
                    <div class="search-container">
                        <input type="text" class="form-control search-input" placeholder="Search sessions...">
                        <i class="fas fa-search search-icon"></i>
                    </div>
                    <button class="btn new-session-btn" id="newSessionBtn">
                        <i class="fas fa-plus"></i> New Session
                    </button>
                </div>
                <div class="session-list" id="sessionList">
                    <!-- Sessions will be populated dynamically -->
                </div>

            </div>

            <!-- Middle Panel - Chat Interface -->
            <div class="col-md-6 col-lg-6 middle-panel">
                <div class="panel-header chat-header">
                    <div class="chat-user-info">
                        <div class="back-button d-md-none">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                        <!--  -->
                        <div class="chat-user-details" id="currentUserAvatar">
                            <h4 id="currentUserName">Select a session</h4>
                            <p class="session-meta" id="currentSessionMeta"></p>
                        </div>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be populated dynamically -->
                    <div class="welcome-message">
                        <h2>Welcome to Property Assist</h2>
                        <p>Select a session to continue or start a new one.</p>
                    </div>
                </div>
                <form id="chatForm" class="chat-input-container" onsubmit="return false;">
                    <input type="text" class="form-control chat-input" id="messageInput"
                        placeholder="Type your message...">
                    <button type="button" class="btn input-action-btn">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button type="button" class="btn send-btn" id="sendMessageBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>

            <!-- Right Panel - Property Information -->
            <!-- Right Panel - Property Information -->
            <div class="col-md-3 col-lg-3 right-panel" id="rightPanel">
                <div class="panel-header">
                    <div class="nav-tabs">
                        <button class="tab-button active" id="filtersTab">Filters</button>
                        <button class="tab-button" id="otherTab">Saved Properties</button>
                    </div>
                    <button class="btn close-btn d-md-none" id="closeRightPanelBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Filters Tab Content -->
                <!-- <div class="tab-content active" id="filtersTabContent">
                    <div class="filters-container show" id="filtersContainer">
                        <div class="applied-filters" id="appliedFilters"></div>
                        <div id="filterSections"></div>
                        <div class="filter-buttons">
                            <button class="btn-clear" id="clearFiltersBtn">Clear</button>
                            <button class="btn-apply" id="applyFiltersBtn">Apply</button>
                        </div>
                    </div>
                </div> -->

                <div class="tab-content active" id="filtersTabContent">
    
                    
                    <div class="filter-chips-container">
                        <div class="applied-filters" id="appliedFilters"></div>
                      </div>

                    <div id="filterSections" class="filter-scroll-container">
                        <!-- Filter controls and content go here -->
                    </div>
                    
                        <!-- Fixed Action Buttons -->
                    <div class="filter-actions-footer">
                        <button id="clearFiltersBtn" class="btn btn-outline-secondary">Clear</button>
                        <button id="applyFiltersBtn" class="btn btn-primary">Apply</button>
                    </div>
                </div>

                <!-- Other Tab Content -->
                <div class="tab-content" id="otherTabContent">
                    <div class="saved-properties-container">
                        <h4 class="saved-properties-heading mb-3">Saved Properties</h4>
                        <div class="accordion" id="savedPropertiesAccordion">
                            <!-- Dynamic accordion items will be inserted here -->
                        </div>
                    </div>
                </div>

                <button class="show-filters-btn" id="showFiltersBtn">Show Filters</button>
            </div>

        </div>
    </div>

    <!-- Property Detail Modal -->
    <div class="modal fade" id="propertyDetailModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="propertyModalTitle">Property Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="propertyModalBody">
                    <!-- Modal content will be populated dynamically via JavaScript -->
                </div>

            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <!-- <script>
        // Emergency fix for form submission
        window.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Global submit prevention');
            return false;
        }, true);
        
        // Emergency fix for Enter key in input field
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.tagName === 'INPUT') {
                e.preventDefault();
                console.log('Enter key prevention');
                return false;
            }
        }, true);
    </script> -->
    <script type="module" src="script.js"></script>
    <script type="module" src="filter_script.js"></script>

</body>

</html>